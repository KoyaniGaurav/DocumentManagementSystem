@using Microsoft.AspNetCore.Http
@model DocumentManagementSystem.Models.Document
@{
    ViewData["Title"] = "Delete Document";
    var role = Context.Session.GetString("UserRole");
    var isAdmin = string.Equals(role, "Admin", System.StringComparison.OrdinalIgnoreCase);
}

<h2>Delete Document</h2>

<div class="alert alert-danger" style="padding:15px; border-radius:5px;">
    <h4>Are you sure you want to delete this document?</h4>
    <p><strong>Title:</strong> @Model.Title</p>
    <p><strong>Description:</strong> @Model.Description</p>
    <p><strong>File Name:</strong> @Model.FileName</p>
</div>

<form asp-controller="Document" asp-action="Delete" method="post" style="margin-top:15px;">
    <input type="hidden" asp-for="Id" />
    <button type="submit" class="btn btn-danger" style="margin-right:10px;">Yes, Delete</button>

    @if (isAdmin)
    {
        <a asp-controller="Admin" asp-action="Index" class="btn btn-secondary">Cancel</a>
    }
    else
    {
        <a asp-controller="User" asp-action="UserIndex" class="btn btn-secondary">Cancel</a>
    }
</form>
